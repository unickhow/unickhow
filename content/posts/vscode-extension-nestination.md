---
title: VS Code extension - Nestination
description: vsce é–‹ç™¼åˆé«”é©—
date: 2024-02-23T12:50:00.000+08:00
schedule:
hidden: false
tags:
  - vscode extension
  - json
---

## åº

ä½ æ˜¯å¦æœ‰åšé i18n çš„ç¶“é©—ï¼Ÿ
ä½ æ˜¯å¦å¸¸å¸¸åœ¨ç‰©ä»¶ä¹‹æµ·è¿·å¤±æ–¹å‘ï¼Ÿ
åœ¨å°ˆæ¡ˆä¸­ï¼Œåœ˜éšŠå¸¸ç”¨`json` ä¾†ç®¡ç†å­—å…¸ï¼Œèˆ‰ä¾‹ä¾†èªª

```vue
<template>
  <h1>{{ $t('home.title') }}</h1>
</template>
```

ç‰©ä»¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ­¸é¡å‡ºå­—å…¸çš„ç¾¤çµ„ï¼Œé€™æ¨£ä¸€ä¾†åœ¨å–ç”¨æ™‚å°±å¯ä»¥å¾ˆç›´è§€çš„è¾¨è­˜é€™å€‹è©çš„ä¾†æºåŠç”¨é€”ï¼Œä½†æ˜¯ç•¶å°ˆæ¡ˆè¦æ¨¡æ—¥æ¼¸èŒå£¯å¾Œï¼Œç‰©ä»¶çš„å±¤æ•¸é€šå¸¸ä¹Ÿæœƒè·Ÿè‘—ä¸€ç™¼ä¸å¯æ”¶æ‹¾ (ç•¶ç„¶å¦‚æœä½ ä¸ä½¿ç”¨å·¢ç‹€ä¾†ç®¡ç†ä¹Ÿå°±ä¸æœƒé‡åˆ°äº†)ï¼Œä¾‹å¦‚

```vue
<template>
  <ul>
    <li>{{ $t('application.settings.userInfo.title') }}</li>
    <li>{{ $t('application.settings.userInfo.description') }}</li>
    <li>{{ $t('application.settings.userInfo.label') }}</li>
    <li>{{ $t('application.settings.userInfo.placeholder') }}</li>
    <li>{{ $t('application.settings.userInfo.message') }}</li>
  </ul>
</template>
```

å°æ‡‰åˆ°å­—å…¸ä¸­ï¼Œå°±æœƒçœ‹åˆ°
```json
{
  // ...
  "application": {
    "settings": {
      "userInfo": {
        "title": "Title",
        "description": "Description",
        "label": "Label",
        "placeholder": "Placeholder",
        "message": "Message"
      }
    }
  },
  // ...
}
```

è©¦æƒ³ç•¶å­—å…¸é•·åˆ°æ•¸ç™¾ä¸Šåƒè¡Œæ™‚ï¼Œé€™å€‹å›æ‰¾çš„å‹•ä½œæœƒä»¤äººçœ¼èŠ±æ’©äº‚ ğŸ˜µâ€ğŸ’«ï¼Œåœ¨ html ä¸Šçš„ key æ˜¯ dot notationï¼Œä½†åœ¨ json ä¸­å»æ˜¯å·¢ç‹€çš„æ–¹å¼å‘ˆç¾ï¼Œæ‰€ä»¥å¾ˆé›£å¿«é€Ÿçš„æ‰¾åˆ°è©²å­—è©æ‰€åœ¨çš„ä½ç½®ï¼Œæ›´åˆ¥èªªå¯èƒ½æœƒæœ‰ç›¸åŒçš„ key æ•£è½åœ¨ä¸åŒçš„ parent object ä¸­

```json {3,14}
{
  // ...
  "application": {
    "settings": {
      "userInfo": {
        "title": "Title",
        "description": "Description",
        "label": "Label",
        "placeholder": "Placeholder",
        "message": "Message"
      }
    }
  },
  "product": {
    "settings": {
      "userInfo": {
        "title": "Title",
        "description": "Description",
        "label": "Label",
        "placeholder": "Placeholder",
        "message": "Message"
      }
    }
  },
  // ...
}
```

æ­·ç¶“å¤šæ¬¡æ› æ—¥è²»æ™‚çš„æŸ¥æ‰¾å¾Œï¼Œå°±å¸Œæœ›æœ‰å€‹å¯ä»¥ä¸€éµå®šä½çš„ã€Œå°‹æ‰¾ã€åŠŸèƒ½ä¾†æ‹¯æ•‘è’¼ç”Ÿã€‚

## å¯¦ä½œ

<div class="text-center font-bold text-xl">Introduce â€” Nestination, Nest + Destination</div>

èº«åœ¨ 2024 é€™å€‹ AI æ™‚ä»£ï¼Œç¬¬ä¸€æ­¥ç•¶ç„¶å°±æ˜¯æœ‰è«‹ ChatGPT æä¾›æœ€å°åŠŸèƒ½æ¼”ç¤ºï¼Œä½†ç¤™æ–¼å…è²»ä»”çš„ v3.5ï¼Œä»–çš„å»ºè­°å¯¦åœ¨æ˜¯åä¸ä¸‹å»ï¼Œèª¿æ•™äº†ä¸ƒå…«å€‹ç‰ˆæœ¬æ‰æœ‰ä¸€å€‹èƒ½åŸ·è¡Œçš„ç¯„æœ¬å¯ä»¥ä¸‹æ‰‹ï¼Œä¹‹å¾Œå°±æ˜¯è·Ÿä»–ä¸æ–·çš„ä¾†å›è©°å•ï¼Œé‚Šç¿»æ‰¾ [VS Code API](https://code.visualstudio.com/api/references/vscode-api) å’Œ[ç¯„ä¾‹](https://github.com/microsoft/vscode-extension-samples/blob/main/document-editing-sample/src/extension.ts#L8-L20)ä¾†é€æ­¥å„ªåŒ–äº†ï¼Œæˆ‘æœŸæœ›åœ¨é€™å€‹ extension æƒ³é”æˆçš„ç›®çš„æœ‰ï¼š

- å°‹æ‰¾å·¢ç‹€å­—ä¸²: `foo.bar.baz` â‡’ æ‰¾åˆ°å°æ‡‰çš„è¡Œæ•¸
- è¤‡è£½å·¢ç‹€å­—ä¸²: `baz` â‡’ è¤‡è£½å‘ä¸Šå…¨éƒ¨å±¤ç´š `foo.bar.baz`
- æ”¯æ´ json ä»¥å¤–çš„æ–‡ä»¶æ ¼å¼ (å¦‚ yaml)

å…¶å¯¦åœ¨å¯¦ä½œçš„éç¨‹ä¸­å°±æœ‰çœ‹åˆ°å¹¾å€‹å·²ç¶“å¯¦ç¾é¡ä¼¼æ¦‚å¿µçš„ extension äº†ï¼Œå¤§è‡´çš„æ¦‚å¿µéƒ½æ˜¯å…ˆå–å¾—æ•´å€‹æ–‡ä»¶çš„å…§å®¹å¾Œï¼Œé€è¡Œé€²è¡Œæ­£è¦è¡¨é”å¼çš„æ¯”å°ï¼Œé€™æ¨£çš„åšæ³•ç°¡å–®ç²—æš´ï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œä¸Šæ–¹çš„å­—å…¸å¦‚æœè¼¸å…¥ `product.settings.userInfo`ï¼Œæœƒå…ˆæ‹†è§£æˆä¸‰å€‹å±¤ç´šï¼Œä¸¦é€ä¸€æƒææ–‡ä»¶ä¸­å°æ‡‰å­—è©çš„ä½ç½®

- ç¬¬ä¸€æ¬¡è¿´åœˆæ‰¾åˆ° `product`
- ç¬¬äºŒæ¬¡è¿´åœˆåˆå¾é ­é–‹å§‹ï¼Œæ‰¾åˆ°äº† `settings` ä½†æœƒæ˜¯åœ¨ `application` ä¸­çš„ `product`
- â€¦

å¾é€™ç¨®å¾ªç’°å¯ä»¥æ¨æ¸¬ï¼Œçµæœéƒ½åªæœƒé…å°åˆ°æœ€å¾Œä¸€å€‹å±¤ç´šçš„å­—è©åœ¨æ–‡ä»¶ä¸­ç¬¬ä¸€æ¬¡å‡ºç¾çš„ä½ç½®ã€‚
ä¸­é–“æœ‰é–ƒéä¸€å€‹å¿µé ­æ˜¯æŠŠæ–‡ä»¶çš„ç‰©ä»¶éƒ½è½‰æ›å‡ºä¾†å¾Œï¼Œå†ç”¨ js çš„æ–¹æ³•å»æ‰¾å‡ºå¾å±¬çš„ key

- ç¬¬ä¸€å€‹è¿´åœˆæ‰¾åˆ° `product`
- æŠŠ `product` é€é `JSON.stringify` è½‰æ›å¾Œæ‰¾å‡ºå…§å±¤æ˜¯å¦æœ‰ `settings` çš„ key å­˜åœ¨
- æ‰¾åˆ° `settings` å¾Œ `JSON.stringify`ï¼Œå†å°‹æ‰¾ä¸‹ä¸€å€‹ key
- â€¦

å®Œç¾è§£ç­”ï¼

â€¦ é€™éº¼æ£’çš„è©±å°±å¥½äº† ğŸ™„ï¼Œå› ç‚ºåœ¨åšå®Œ `JSON.stringify` å¾Œï¼Œå°±æœƒå¤±å» vscode API æä¾›çš„è¡Œæ•¸èˆ‡å­—æ•¸çš„å±¬æ€§ï¼Œä¹Ÿå°±æ²’è¾¦æ³•é€²ä¸€æ­¥æ¨æ•²å­—è©åœ¨æ–‡ä»¶ä¸­çš„ä½ç½® ğŸ¤¦â€â™‚ï¸ï¼Œæ‰€ä»¥æŠ˜è¿”å›æ–‡æœ¬çš„æ­£è¦æ¯”å°ï¼Œä½†é€™æ¬¡ç¨åšäº†ä¸€äº›æ”¹è®Š

- ç¬¬ä¸€æ¬¡è¿´åœˆæ‰¾åˆ° `product`ï¼Œç´€éŒ„è©²è¡Œæ•¸åŠä½ç½®
- ç¬¬äºŒæ¬¡è¿´åœˆå¾å‰ä¸€å±¤ç´€éŒ„çš„ä½ç½®é–‹å§‹å¾€ä¸‹æ‰¾
- â€¦

ä½†å³ä¾¿å¦‚æ­¤ï¼Œé€™ä»ç„¶æ˜¯ä»¥æ–‡æœ¬å»é…å°å­—è©çš„åšæ³•ï¼Œæ‰€ä»¥åŸ·è¡Œä¸Šä¾ç„¶æœƒå­˜åœ¨ä¸€äº›é æœŸä¹‹å¤–çš„çµæœï¼Œä¸Šä¾‹ä¸­ç›´æ¥å°‹æ‰¾ `settings` ä¹Ÿæœƒè¿”å›å¾ä¸Šè‡³ä¸‹ç¬¬ä¸€å€‹æ‰¾åˆ°çš„ `settings` ä½ç½® (ç„¡è«–å…¶ä½æ–¼ä½•å±¤)ã€‚

ä¸éå¾çµæœä¾†çœ‹ï¼Œç¾æ³å·²ç¶“å¯ä»¥è™•ç†æˆ‘éœ€æ±‚çš„åˆè¡·äº†ï¼Œå°±è¶•ç·Šç™¼ä½ˆç¬¬ä¸€å€‹ VS Code extension å§ï¼

~~*[å®˜æ–¹æ–‡ä»¶](https://code.visualstudio.com/api/get-started/your-first-extension)è©³ç´°åˆ°ç„¡é ˆå¤šè¨€*~~

ç„¶å¾Œé€Ÿé€Ÿçš„éš¨æ‰‹ä¸Šä¸€å¼µ icon å…ˆçµæŸé€™å›åˆï¼Œä¹‹å¾Œå†æ…¢æ…¢è£œä¸Šå…¶ä»–çš„åŠŸèƒ½ï¼Œç¾åœ¨è¶•å¿«ä¾†ä¸€èµ· `Cmd + P` Find key nestination å§ï¼

https://marketplace.visualstudio.com/items?itemName=unickhow.nestination

> å¸Œæœ›ä¸æœƒæ”¶åˆ°å¤ªå¤šä¸€æ˜Ÿå¥½è©• ğŸ™‚
